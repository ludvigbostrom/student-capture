env:
  global:
  - JAVA_HOME=/usr/lib/jvm/java-8-oracle
  - secure: hSHa2n/VEiyWf4rvfb2kQEU8p/3Drn4McPHBr0P1jNRqP5G5QAx0ttd9cHfzR0QB9ZPEQZTv++eEgzC+he7P1zYxeyhnO9Snzh431S/fgJV1iBPfzdfpmBs6l1nsJ5vCcpmN7hQ4FTEeNCbVpjnBsrTB9UDmSHkKjoNcucKOCHDamqqAxcXqsOStp52yHPBHB28ZH0Y4SiS8p3MLEDBNEKpriC+rS96FWzbl512QJkkuPO87pO3qZouI00q8E0LTta/+QUbaIwuHYl1xec9Cyw0mO3SIhmRXRV08w1DNfZc6K3okwKQrYk62OEQL5Mzw4R0KrK432JPs3ThlBGu9yshghaUGRdUocq2ej1hbzEA9lVPi7pB5DRqhzakTetJuCO7e6HJJOuVXhQ1/ssx4yyG/LNpcJSn9DKG1MB5il44KK+ZVGaL5qrGUfJsoueo6XKdfZBlOO8yUoyaur/jtphWCY0wuFEPmDKo9O5pex6WpDIB5X/ipbtb8v8gJsN59MbGx5Z7B7GbWf9UKGPKnQqkNRd9gNC/ls75LheXZm3luHhtHFkWFpYHbbiYbnF7J9H4knFN8OXpGHWsfaRDaSjm76w+fCkGHlzLNPUdQILTiYjXIa8PzyiImA9zdOAKZY+6Tt2Rq7166P5XFfdFcAo4quirl7sojHzDMnFnSMfY=
  - secure: rxsLK6a1K9WqnUeqY4PqXUwFIQBQQ/x34axX+5XytmkadXRIlDLqUrquXhj1jlvPDpfKLeFgex5PI3NsNchoS+nGUVqNdHaI5pHVA1ZsZpI75HzEs5ZxzJYQHZ9q1BJEaxIBnRfmf4msIzuVa5A4gnYWp84q0MfgtGoZB3BpZeKLdQFJpw0pHg5iuFQwLAafJSI2sS7lSRKRldip/p2gua/ZjREdM4TCsWueaqo9lc6VfePFDojEuQjlgiu6lwhIPe75O5MP45bLiTeD57te6sd8yskBxV6/9EKjW+mRdV3qOvQbzLss8NBCcVlIuT2fR0eG7ixBvICnPCVEYJl9lpXKBx9Wa0PvUxtE6wJsnsaCaMIjyleExfn0ahw2fTpyp3Z2TfA2IyOES43I/x+k50HYtLAe+7IAgwx4VxucmqG36MgWy+ypLUU/CZrPWc0KlTB62nEGRDrdqLdoHkOWMoAkzKvPCDqlLyVry5JvTYMsraC3NNDxrlKLYTvEWiid4TpnzheZ0b+jTULD8WeUc3QPO/UVqwFJiz1oG7NwQ3lB3u3bLEhXRWc32EDmd2KlXGADrLqBYlOTCB61vmxqw1YejpEePMiZHtMAmQb7DgvoPd46IeNsEHcG+qeLz7eKKSXEHEXgcNJsKiZdNC1O21J2j+NU0+YnpsrRL9eU5Ao=
  - secure: sHdLWWdIej0+8GCwmoNUUqUBKvESekgmiM6OyL+kq2fhS8hg2eL8E/Yx53gPy+yCIoPY+fHthC8IgMBqAqkq9Xd4dU6HfmZgR507GVDnwjw9bwFtT/qtEgv0EhcsgWDR64iv7Py2LrVGqMJk5lVUk1jJuem8bPGOyWeSkvzZtujXR45zVXPQxJ4hvNz4mGoe6GvkU8OPvc2zCuUTn1yMAUS5Z9Wqy/dFn7nHCzmblvIUUN5+SJf4xclChsv0fcRnVUtSPZDpM+J2s4BGUW1d+Wd6eAbLvxfMeNVh3uzTubUULHxKSdBC8Y4fosyglk6+8l+uTvWnSO0HZde9xT7hwOZtv9JG+qGZ8f9KFhpXOROvUDa7K8hkZmV9u8GhNrOs19qniCjwd8WcYbnMm6/6ku/Plb6Wfu8HkITYFanWifHKw0u4oYSBq5bm4kSlzlGzC0A3rZkBDJhWHMhtLrXmOhrfuhlmYZuFVgkMS4yxWs731TYAebVsRw0KYoRo6jTgalr0PA6qmhCn98EWyVzk3HR8yn12YaeK+JG6Rvr3+KcUx/BcaZ/+QLbDq0fXThiqN3tZ4x3NCr1z2YMgoUlB1AEOlJtjK8O9zDInSGCFUFsXX1vh5mgFnwODHzMbQz/4swwsocNG0O2jH/USh7cASwJVf8gKaDoun81SgUzLn8U=
  - secure: erAgHWxv5OsxAyfq7yZJ9/9VsJnaK9M6G6T7RQZ0hq8VpMIknDWHWNxW5maJzjGU9bdn5dh+dt0sldV40KveCC+pEXT94Oy9CWaeTMuiecAqzG2vs5ImfuidTWXJSd46WD82DPQhEnmjvLIKqc05ZA2/xseefmShcpNRYWw2jdoUN3FIy5qKtGsLgFtIDkNEBaDpHybdUzbb2S66k66IFYd77/m8aSlP4LS3NnZ2xsdXwLROl/HRx4tUzxfZgar+jF/reVu8vdyB8LO40j3gDBvMNd5rpqSlv3wd6xtp8f6b4zfTQMhUGckoN0+RohX4ESwIMAllrHNDLDd/c+WlwkiJkaJ53sGDRUEWph8lv2wztUV2ZYEKcJousSozrJ52TVRVQiG4kGmnVisS4EzA/RyeiHJ2I0c+RVFxZ49QvR2nu5fMq/jW/12A9/npX8ZQinfCqK/ZyU/mPvtFKAW2SLk5HXB332BadExvHNtQrp1jFx5H+I55Y1ZqKNjoaayMyEROpCG8OjIqE258tW69QEEw+HfDIThanYQoRyUr1BMiwRzG6k7t7koryPT8tIKejp/65eDw6Bp3XSMmP48A3Rafp/QJwX5hH+WhzrgmT3ihKCc7yzAx0DCX4CU5lnh0uatpyaAo89YoG7OoBRXxAdf+inJxmlAVV3PPwXi5tA4=
  - secure: Y/wlf5+vF/RIBdRNr3M9GNNxsld+5FRgosYp5Bw9QWlbq+hWJIbYU7ujb7BIc/bjx1dN9IocF5swUQ+T8uxXXnMmCuMPb+mfSmiqVJimu/L+8PhbpBjqs6dSGAPRY3C9J0yCTwgNfvo/FPGEF6/3EhRUtwXqGnj1QbZ4BkHfVMvGZkjKfX3wolk5BojlB2W915/aWQ16y2/tKfS7Jl8ME+AgZGVRex5IREFSbijaV+J3lYE1bFCjVNjgJ2v1eNa0buPfP2D/oYzFbIHwieAv6Qkm3Or1jcnxne8Kux1ML2CHyty0RUuSFINvam8cGdLCd4891i/vIOJvtLFD9iM3EOh8jIAQtgBbe1FNrFDffdP7FCKFz4TBeVQChUwyUoZ+aQP7XidRG1/e5szPNPCNYQOVTbw0xLY8ub7U4zU0cmwOrcNP/w38CXY/eSK40pWuhRZ/aJuBArs6jPgg7Zj4Lo6oGGL5YrCS4EBXtNGVenwH2BFg5x6gObk0ahXard+Ut/Q5ozLredhHVSEWbBwOcIeA5fJNA1ndKfzxUrrTN3ftbQeLL1y6MG2ATK7PC05T2WV/wRLqZT9cRsiXL2dLcvl6zputyShsQ+wiDVOcLcavb/8gstJP1hFcFOUa6/UajAT5Qf2+loGaH0KMWmwMKkeEAsx0AoppCr4TUzq8vIY=
addons:
  apt:
    packages:
    - sshpass
branches:
  only:
  - Production
  - Development
sudo: required
before_install:
- sudo chmod +x tests.sh
script: "./tests.sh"
after_success:
- mkdir build
- mv * build
- tar -czf package.tgz build
- export SSHPASS=$DEPLOY_PASS
- sshpass -e scp -o stricthostkeychecking=no package.tgz $DEPLOY_USER@$DEPLOY_HOST:$DEPLOY_PATH
- sshpass -e ssh $DEPLOY_USER@$DEPLOY_HOST $SCRIPT_PATH > log_output
